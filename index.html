<!doctype html>
<html lang="ja">
   <head>
      <meta charset="utf-8">
      <title>The HTML5 Herald</title>
   </head>
   <body  style="">
    <div>
	<h1>envを更新したら</h1>
	<pre>
	php artisan cache:clear
	php artisan config:clear
	php artisan config:cache
	</pre>     
	<p>
	app/bootstrap/cache/config.php<br>
	にキャッシュされる
	</p>
    </div>     
 
     <div>
         <h1>諸々のキャッシュクリア</h1>
         <pre>
                php artisan cache:clear &&
                php artisan config:clear &&
                php artisan config:cache &&
                php artisan route:clear &&
                php artisan view:clear &&
                php artisan clear-compiled &&
                php artisan optimize &&
                composer dump-autoload &&
                rm -f bootstrap/cache/config.php
            </pre>
      </div>
      <div>
         <h1>seederで特定のファイルを入れる</h1>
         <pre>
                php artisan db:seed --class=TestTableSeeder
            </pre>
      </div>
      <div>
         <h1>外部キーチェックのOFFとON</h1>
         <pre>
                DB::statement('SET FOREIGN_KEY_CHECKS=0;');
                DB::statement('SET FOREIGN_KEY_CHECKS=1;');
            </pre>
      </div>
      <div>
      <h1>required_if(数値)</h1>
      <p>
         field_1が、1のときに、
         field_2を必須チェック
      </p>
      <pre>
            public function rules()
            {
                return [
                    'field_1' => ['required','string'],
                    'field_2' => ['required_if:field1,check', 'string'],
                ];
            }
          </pre>
      <table border=1>
         <tr>
            <th>
               field_1
            </th>
            <th>
               field_2
            </th>
            <th>
               result
            </th>
            <th>
               message
            </th>
         </tr>
         <tr>
            <td>
               0
            </td>
            <td>
               ABC
            </td>
            <th>
               error
            </th>
            <td>
               The field integer 2 must be an integer
            </td>
         </tr>
         <tr>
            <td>
               1
            </td>
            <td>
               ABC
            </td>
            <th>
               error
            </th>
            <td>
               The field integer 2 must be an integer
            </td>
         </tr>
         <tr>
            <td>
               1
            </td>
            <td>
               ""
            </td>
            <th>
               error
            </th>
            <td>
               The field integer 2 must be an integer
            </td>
         </tr>
         <tr>
            <td>
               1
            </td>
            <td>
               10
            </td>
            <th>
               pass
            </th>
            <td>
            </td>
         </tr>
      </table>
      </dov>
      <dov>
         <h1>required_if(文字列)</h1>
         <p>
            field_1が'tomato'の文字列の時、
            field_2を必須チェック＋文字列かどうかチェック
         </p>
         <pre>
   public function rules()
   {
       return [
        'field_1' => ['string'],
        'field_2' => ['required_if:field1,tomato', 'string'],
       ];
   }
 </pre>
         <table border=1>
            <tr>
               <th>
                  field_1
               </th>
               <th>
                  field_2
               </th>
               <th>
                  result
               </th>
               <th>
                  message
               </th>
            </tr>
            <tr>
               <td>
                  tomato
               </td>
               <td>
               </td>
               <th>
                  error
               </th>
               <td>
                  The field 4 must be a string.
               </td>
            </tr>
            <tr>
               <td>
                  tomato
               </td>
               <td>
                  mellon
               </td>
               <th>
                  pass
               </th>
               <td>
               </td>
            </tr>
         </table>
      </dov>
   </body>
</html>
